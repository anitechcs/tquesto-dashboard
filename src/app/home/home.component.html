<td-layout-nav [class.collapse]="!sideNavOpened" logo="assets:logo" [class]="getSelectedTheme()">
  <div td-toolbar-content layout="row" layout-align="center center" flex>
    <span flex></span>
    <button mat-icon-button matTooltip="Notifications" [matMenuTriggerFor]="notificationsMenu">
      <td-notification-count color="accent" [notifications]="6">
         <mat-icon>notifications</mat-icon>
      </td-notification-count>
    </button>
    <button mat-icon-button matTooltip="Full Screen" (click)="toggleFullscreen()" tqFullscreen>
      <mat-icon>{{(!isFullscreen)?'fullscreen':'fullscreen_exit'}}</mat-icon>
    </button>
    <button mat-icon-button matTooltip="Tapas" [mat-menu-trigger-for]="menu">
      <img src="assets/imgs/avtar.jpg" class="avatar"/>
    </button>
  </div>
  <td-layout-manage-list #manageList >
    <mat-toolbar td-sidenav-content class="pad0">
      <button mat-icon-button td-menu-button matTooltip="Expand/Collapse" matTooltipPosition="after" (click)="toggleSidebar()">
        <mat-icon class="mat-24">{{(sideNavOpened)?'chevron_left':'chevron_right'}}</mat-icon>
      </button>
      <span flex *ngIf="sideNavOpened">TestDataGen</span>
      <button mat-icon-button color="accent" matTooltip="My Apps" [routerLink]="['/home/myapps']">
          <mat-icon>apps</mat-icon>
      </button>
    </mat-toolbar>
    <mat-nav-list td-sidenav-content>
      <a mat-list-item
        mat-ripple class="block relative"
        (click)="!media.query('gt-sm') && manageList.close()"
        [routerLinkActive]="['active']"
        [routerLinkActiveOptions]="{exact:true}"
        [routerLink]="['/home/dashboard']">
        <mat-icon mat-list-icon>dashboard</mat-icon>
        Dashboard
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item
        mat-ripple class="block relative"
        (click)="!media.query('gt-sm') && manageList.close()"
        [routerLinkActive]="['active']"
        [routerLinkActiveOptions]="{exact:true}"
        [routerLink]="['/home/analytics']">
        <mat-icon mat-list-icon>visibility</mat-icon>
        Analytics
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item
        mat-ripple class="block relative"
        (click)="!media.query('gt-sm') && manageList.close()"
        [routerLinkActive]="['active']"
        [routerLinkActiveOptions]="{exact:true}"
        [routerLink]="['/home/events']">
        <mat-icon mat-list-icon>donut_small</mat-icon>
        Events
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item
        mat-ripple class="block relative"
        (click)="!media.query('gt-sm') && manageList.close()"
        [routerLinkActive]="['active']"
        [routerLinkActiveOptions]="{exact:true}"
        [routerLink]="['/home/performance']">
        <mat-icon mat-list-icon>network_check</mat-icon>
        Performance
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item
        mat-ripple class="block relative"
        (click)="!media.query('gt-sm') && manageList.close()"
        [routerLinkActive]="['active']"
        [routerLinkActiveOptions]="{exact:true}"
        [routerLink]="['/home/engagement']">
        <mat-icon mat-list-icon>blur_linear</mat-icon>
        Engagement
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item
        mat-ripple class="block relative"
        (click)="!media.query('gt-sm') && manageList.close()"
        [routerLinkActive]="['active']"
        [routerLinkActiveOptions]="{exact:true}"
        [routerLink]="['/home/compagion']">
        <mat-icon mat-list-icon>broken_image</mat-icon>
        Compagions
      </a>
      <mat-divider></mat-divider>
      <span mat-subheader class="menuHeader">{{(sideNavOpened)?"Administration":"Adm"}}</span>
      <a mat-list-item
        mat-ripple class="block relative"
        (click)="!media.query('gt-sm') && manageList.close()"
        [routerLinkActive]="['active']"
        [routerLinkActiveOptions]="{exact:true}"
        [routerLink]="['/home/users']">
        <mat-icon mat-list-icon>people</mat-icon>
        User Management
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item
        mat-ripple class="block relative"
        (click)="!media.query('gt-sm') && manageList.close()"
        [routerLinkActive]="['active']"
        [routerLinkActiveOptions]="{exact:true}"
        [routerLink]="['/home/integration']">
        <mat-icon mat-list-icon>receipt</mat-icon>
        Integration
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item
        mat-ripple class="block relative"
        (click)="!media.query('gt-sm') && manageList.close()"
        [routerLinkActive]="['active']"
        [routerLinkActiveOptions]="{exact:true}"
        [routerLink]="['/home/configuration']">
        <mat-icon mat-list-icon>settings_applications</mat-icon>
        Settings
      </a>
    </mat-nav-list>
    <tq-toolbox [tools]="getTools()"></tq-toolbox>

    <router-outlet></router-outlet>

    <tq-footer></tq-footer>

  </td-layout-manage-list>

</td-layout-nav>


<mat-menu x-position="before" y-position="below" #menu="matMenu">
  <a mat-menu-item [routerLink]="['/home/users/profile']"><mat-icon mat-list-icon>person</mat-icon>Profile</a>
  <a mat-menu-item (click)="showPreferences()"><mat-icon mat-list-icon>settings</mat-icon>Preferences</a>
  <a mat-menu-item href="http://docs.tquesto.com" target="_blank"><mat-icon mat-list-icon>help</mat-icon>Help</a>
  <a mat-menu-item (click)="doLogout()"><mat-icon mat-list-icon>power_settings_new</mat-icon>Sign Out</a>
</mat-menu>

<mat-menu x-position="before" y-position="below" #notificationsMenu="matMenu">
  <td-menu>
    <div td-menu-header class="mat-subhead">Recent Notifications</div>
    <mat-nav-list dense>
      <a mat-list-item [routerLink]="['/components/notifications']">
        <mat-icon mat-list-avatar>notifications</mat-icon>
        <h4 mat-line><span class="text-wrap">Notifications component added</span></h4>
        <p mat-line>New component</p>
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item [routerLink]="['/components/dynamic-forms']">
        <mat-icon mat-list-avatar>format_align_center</mat-icon>
        <h4 mat-line><span class="text-wrap">JSON driven dynamic forms</span></h4>
        <p mat-line>New component</p>
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item [routerLink]="['/layouts']">
        <mat-icon mat-list-avatar>call_to_action</mat-icon>
        <h4 mat-line><span class="text-wrap">Sticky footer added to layouts</span></h4>
        <p mat-line>Component updated</p>
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item [routerLink]="['/components/data-table']">
        <mat-icon mat-list-avatar>grid_on</mat-icon>
        <h4 mat-line><span class="text-wrap">Nested object support for data-table</span></h4>
        <p mat-line>Component updated</p>
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item [routerLink]="['/components/http']">
        <mat-icon mat-list-avatar>http</mat-icon>
        <h4 mat-line><span class="text-wrap">HTTP path interceptors &amp; transform support</span></h4>
        <p mat-line>Service updated</p>
      </a>
      <mat-divider></mat-divider>
      <a mat-list-item href="https://github.com/Teradata/covalent/blob/develop/package.json#L53-L58" target="_blank">
        <mat-icon mat-list-avatar>notifications</mat-icon>
        <h4 mat-line><span class="text-wrap">Angular 2.4.1 &amp; Material2 Beta1</span></h4>
        <p mat-line>Dependencies updated</p>
      </a>
    </mat-nav-list>
    <button mat-button color="accent" td-menu-footer [routerLink]="['/home/notifications']">
      View More
    </button>
  </td-menu>
</mat-menu>
